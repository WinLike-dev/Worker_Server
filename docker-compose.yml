# worker_docker-compose.yml (Worker-1 ì˜ˆì‹œ)

version: '3.8'

services:
  # ğŸŒŸ ì›Œì»¤ ë…¸ë“œ ì„œë¹„ìŠ¤ 1 (Worker-1)
  worker-1:
    build: . # í˜„ì¬ ë””ë ‰í† ë¦¬ì˜ Dockerfileì„ ì‚¬ìš©í•˜ì—¬ ì´ë¯¸ì§€ë¥¼ ë¹Œë“œí•©ë‹ˆë‹¤.
    container_name: news-worker-1
    # ğŸŒŸ ë§ˆìŠ¤í„°ê°€ ì ‘ê·¼í•  ìˆ˜ ìˆë„ë¡ ì›Œì»¤ì˜ í¬íŠ¸(8001)ë¥¼ ì™¸ë¶€ì— ê°œë°©
    ports:
      - "8001:8001"

    environment:
      # ğŸŒŸ MONGO_HOST: DBê°€ ì‹¤í–‰ë˜ëŠ” ë§ˆìŠ¤í„° ë””ë°”ì´ìŠ¤ì˜ Public IPë¥¼ ì§€ì • (í•„ìˆ˜)
      - MONGO_HOST=49.168.187.55
      - MONGO_PORT=27017
      - MONGO_DB=BBC_analysis_db
      - MONGO_USER=mongouser
      - MONGO_PASS=1234

      - WORKER_NAME=Worker-1 # ì´ ì›Œì»¤ì˜ ê³ ìœ  ì´ë¦„ (constants.pyì—ì„œ ì‚¬ìš©)

    # ğŸŒŸ ì›Œì»¤ ì„œë²„ ì‹¤í–‰ ëª…ë ¹ì–´
    command: python worker_server.py