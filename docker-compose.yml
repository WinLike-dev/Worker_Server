# worker_docker-compose.yml (ìˆ˜ì •ë³¸)

version: '3.8'

services:
  # ğŸŒŸ ì›Œì»¤ ë…¸ë“œ ì„œë¹„ìŠ¤ 1 (Worker-1)
  worker-1:
    build: .
    container_name: news-worker-1
    ports:
      - "8001:8001" # ğŸŒŸ 8001 í¬íŠ¸ ê°œë°©
    environment:
      - MONGO_HOST=3.107.13.169
      - MONGO_PORT=27017
      - MONGO_DB=BBC_analysis_db
      - MONGO_USER=mongouser
      - MONGO_PASS=1234
      - WORKER_NAME=Worker-1 # ğŸŒŸ ê³ ìœ  ì´ë¦„ ì„¤ì •
      - WORKER_PORT=8001
    command: python worker_server.py

  # ğŸŒŸ ì›Œì»¤ ë…¸ë“œ ì„œë¹„ìŠ¤ 2 (Worker-2) - ì¶”ê°€
  worker-2:
    build: .
    container_name: news-worker-2
    ports:
      - "8002:8002" # ğŸŒŸ 8002 í¬íŠ¸ ê°œë°©
    environment:
      - MONGO_HOST=3.107.13.169
      - MONGO_PORT=27017
      - MONGO_DB=BBC_analysis_db
      - MONGO_USER=mongouser
      - MONGO_PASS=1234
      - WORKER_NAME=Worker-2 # ğŸŒŸ ê³ ìœ  ì´ë¦„ ì„¤ì •
      - WORKER_PORT=8002
    command: python worker_server.py

  # ğŸŒŸ ì›Œì»¤ ë…¸ë“œ ì„œë¹„ìŠ¤ 3 (Worker-3) - ì¶”ê°€
  worker-3:
    build: .
    container_name: news-worker-3
    ports:
      - "8003:8003" # ğŸŒŸ 8003 í¬íŠ¸ ê°œë°©
    environment:
      - MONGO_HOST=3.107.13.169
      - MONGO_PORT=27017
      - MONGO_DB=BBC_analysis_db
      - MONGO_USER=mongouser
      - MONGO_PASS=1234
      - WORKER_NAME=Worker-3 # ğŸŒŸ ê³ ìœ  ì´ë¦„ ì„¤ì •
      - WORKER_PORT=8003
    command: python worker_server.py